$(function () {
  // loadCensus()
  // loadMunis()
  // loadMa()
});

const tabs = document.querySelectorAll('.tab')

d3.json("ma.json", function (error, ma) {
  if (error) return console.error(error);

  svg.append("path")
    .datum(topojson.feature(ma, ma.objects.subunits))
    .attr("d", d3.geo.path().projection(d3.geo.mercator()));
});

var width = 960,
  height = 1160;

var svg = d3.select("body").append("svg")
  .attr("width", width)
  .attr("height", height);

// create an instance of Leaflet map, centered on MAPC region
let map = L.map('map').setView([42.358056, -71.063611], 10);
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Map data &copy; OpenStreetMap contributors'
}).addTo(map);

const loadCensus = () => {
  fetch("../data/census.json")
    .then(function (response) {
      return response.json();
    })
    .then(function (data) {
      console.log('census.json data: ', data)
      L.geoJSON(data).addTo(map)
    })
}

const loadMunis = () => {
  fetch("../data/ma-munis.json")
    .then(function (response) {
      return response.json();
    })
    .then(function (data) {
      console.log('ma-munis.json data: ', data)
      L.geoJSON(data).addTo(map)
    })
}

const loadMa = () => {
  fetch("../data/ma.json")
    .then(function (response) {
      return response.json();
    })
    .then(function (data) {
      console.log('ma.json data: ', data)
      L.geoJSON(data).addTo(map)
    })
}
